/mnt/phd/jihu/opioid/Code/risk_utils.py:64: DtypeWarning: Columns (5) have mixed types. Specify dtype option on import or set low_memory=False.
  SAMPLE = pd.read_csv('Data/FULL_' + str(year) +'_LONGTERM_UPTOFIRST.csv', delimiter = ",",
Index(['(Intercept)', 'concurrent_MME10', 'concurrent_MME15',
       'concurrent_MME20', 'concurrent_MME25', 'concurrent_MME30',
       'concurrent_MME35', 'concurrent_MME40', 'concurrent_MME45',
       'concurrent_MME50', 'concurrent_MME75', 'concurrent_MME100',
       'concurrent_MME200', 'concurrent_MME300', 'num_prescribers2',
       'num_prescribers3', 'num_prescribers4', 'num_prescribers5',
       'num_prescribers6', 'num_prescribers7', 'num_prescribers8',
       'num_prescribers9', 'num_prescribers10', 'num_pharmacies2',
       'num_pharmacies3', 'num_pharmacies4', 'num_pharmacies5',
       'num_pharmacies6', 'num_pharmacies7', 'num_pharmacies8',
       'num_pharmacies9', 'num_pharmacies10', 'concurrent_benzo1',
       'num_presc2', 'num_presc3', 'num_presc4', 'num_presc5', 'num_presc6',
       'num_presc10', 'num_presc15', 'MME_diff10', 'days_diff1',
       'quantity_diff10', 'avgDays1', 'avgDays3', 'avgDays5', 'avgDays7',
       'avgDays10', 'avgDays14', 'avgDays21', 'avgDays25', 'avgDays30',
       'avgDays60', 'avgDays90', 'patient_gender', 'Codeine', 'Hydrocodone',
       'Oxycodone', 'Morphine', 'Medicaid', 'CommercialIns', 'Medicare',
       'CashCredit', 'MilitaryIns', 'WorkersComp', 'Other', 'IndianNation',
       'switch_drug', 'switch_payment', 'ever_switch_drug',
       'ever_switch_payment', 'HMFO'],
      dtype='object')
Start training 2018singlespeical
setting c0_value = 0.0 for (Intercept) to ensure that intercept is not penalized
The weight is for positive53.34883003441926
06/01/23 @ 08:37 AM | switching loss computation from lookup to weighted
06/01/23 @ 08:37 AM | ------------------------------------------------------------
06/01/23 @ 08:37 AM | runnning initialization procedure
06/01/23 @ 08:37 AM | ------------------------------------------------------------
06/01/23 @ 08:42 AM | CPA produced 2 cuts
06/01/23 @ 08:42 AM | running naive rounding on 5 solutions
06/01/23 @ 08:42 AM | best objective value: 0.5543
06/01/23 @ 08:42 AM | rounding produced 5 integer solutions
06/01/23 @ 08:42 AM | best objective value is 0.5172
06/01/23 @ 08:42 AM | running sequential rounding on 5 solutions
06/01/23 @ 08:42 AM | best objective value: 0.5543
06/01/23 @ 08:42 AM | sequential rounding produced 4 integer solutions
06/01/23 @ 08:42 AM | best objective value: 0.4767
06/01/23 @ 08:42 AM | polishing 9 solutions
06/01/23 @ 08:42 AM | best objective value: 0.4767
06/01/23 @ 08:43 AM | polishing produced 4 integer solutions
06/01/23 @ 08:43 AM | initialization produced 11 feasible solutions
06/01/23 @ 08:43 AM | best objective value: 0.4164
06/01/23 @ 08:43 AM | ------------------------------------------------------------
06/01/23 @ 08:43 AM | completed initialization procedure
06/01/23 @ 08:43 AM | ------------------------------------------------------------
06/01/23 @ 08:43 AM | switching loss computation from lookup to weighted
06/01/23 @ 08:43 AM | adding 319 initial cuts
/mnt/phd/jihu/opioid/Code/risk_utils.py:64: DtypeWarning: Columns (5) have mixed types. Specify dtype option on import or set low_memory=False.
  SAMPLE = pd.read_csv('Data/FULL_' + str(year) +'_LONGTERM_UPTOFIRST.csv', delimiter = ",",
+----------------------------------------------+------------------+-----------+
| Pr(Y = +1) = 1.0/(1.0 + exp(-(-2 + score))   |                  |           |
| ============================================ | ================ | ========= |
| avgDays10                                    |         2 points |   + ..... |
| avgDays21                                    |         2 points |   + ..... |
| concurrent_benzo1                            |         1 points |   + ..... |
| Medicare                                     |         1 points |   + ..... |
| HMFO                                         |         1 points |   + ..... |
| ============================================ | ================ | ========= |
| ADD POINTS FROM ROWS 1 to 5                  |            SCORE |   = ..... |
+----------------------------------------------+------------------+-----------+
685.0 seconds
Index(['(Intercept)', 'concurrent_MME10', 'concurrent_MME15',
       'concurrent_MME20', 'concurrent_MME25', 'concurrent_MME30',
       'concurrent_MME35', 'concurrent_MME40', 'concurrent_MME45',
       'concurrent_MME50', 'concurrent_MME75', 'concurrent_MME100',
       'concurrent_MME200', 'concurrent_MME300', 'num_prescribers2',
       'num_prescribers3', 'num_prescribers4', 'num_prescribers5',
       'num_prescribers6', 'num_prescribers7', 'num_prescribers8',
       'num_prescribers9', 'num_prescribers10', 'num_pharmacies2',
       'num_pharmacies3', 'num_pharmacies4', 'num_pharmacies5',
       'num_pharmacies6', 'num_pharmacies7', 'num_pharmacies8',
       'num_pharmacies9', 'num_pharmacies10', 'concurrent_benzo1',
       'num_presc2', 'num_presc3', 'num_presc4', 'num_presc5', 'num_presc6',
       'num_presc10', 'num_presc15', 'MME_diff10', 'days_diff1',
       'quantity_diff10', 'avgDays1', 'avgDays3', 'avgDays5', 'avgDays7',
       'avgDays10', 'avgDays14', 'avgDays21', 'avgDays25', 'avgDays30',
       'avgDays60', 'avgDays90', 'patient_gender', 'Codeine', 'Hydrocodone',
       'Oxycodone', 'Morphine', 'Medicaid', 'CommercialIns', 'Medicare',
       'CashCredit', 'MilitaryIns', 'WorkersComp', 'Other', 'IndianNation',
       'switch_drug', 'switch_payment', 'ever_switch_drug',
       'ever_switch_payment', 'HMFO'],
      dtype='object')
Start training 2018singlespeical
setting c0_value = 0.0 for (Intercept) to ensure that intercept is not penalized
The weight is for positive53.34883003441926
06/01/23 @ 08:51 AM | switching loss computation from lookup to weighted
06/01/23 @ 08:51 AM | ------------------------------------------------------------
06/01/23 @ 08:51 AM | runnning initialization procedure
06/01/23 @ 08:51 AM | ------------------------------------------------------------
06/01/23 @ 08:56 AM | CPA produced 2 cuts
06/01/23 @ 08:56 AM | running naive rounding on 5 solutions
06/01/23 @ 08:56 AM | best objective value: 0.5543
06/01/23 @ 08:56 AM | rounding produced 5 integer solutions
06/01/23 @ 08:56 AM | best objective value is 0.5172
06/01/23 @ 08:56 AM | running sequential rounding on 5 solutions
06/01/23 @ 08:56 AM | best objective value: 0.5543
06/01/23 @ 08:56 AM | sequential rounding produced 4 integer solutions
06/01/23 @ 08:56 AM | best objective value: 0.4767
06/01/23 @ 08:56 AM | polishing 9 solutions
06/01/23 @ 08:56 AM | best objective value: 0.4767
06/01/23 @ 08:57 AM | polishing produced 4 integer solutions
06/01/23 @ 08:57 AM | initialization produced 11 feasible solutions
06/01/23 @ 08:57 AM | best objective value: 0.4164
06/01/23 @ 08:57 AM | ------------------------------------------------------------
06/01/23 @ 08:57 AM | completed initialization procedure
06/01/23 @ 08:57 AM | ------------------------------------------------------------
06/01/23 @ 08:57 AM | switching loss computation from lookup to weighted
06/01/23 @ 08:57 AM | adding 319 initial cuts
/mnt/phd/jihu/opioid/Code/risk_utils.py:64: DtypeWarning: Columns (5) have mixed types. Specify dtype option on import or set low_memory=False.
  SAMPLE = pd.read_csv('Data/FULL_' + str(year) +'_LONGTERM_UPTOFIRST.csv', delimiter = ",",
+----------------------------------------------+------------------+-----------+
| Pr(Y = +1) = 1.0/(1.0 + exp(-(-2 + score))   |                  |           |
| ============================================ | ================ | ========= |
| avgDays10                                    |         2 points |   + ..... |
| avgDays21                                    |         2 points |   + ..... |
| concurrent_benzo1                            |         1 points |   + ..... |
| Medicare                                     |         1 points |   + ..... |
| HMFO                                         |         1 points |   + ..... |
| ============================================ | ================ | ========= |
| ADD POINTS FROM ROWS 1 to 5                  |            SCORE |   = ..... |
+----------------------------------------------+------------------+-----------+
684.2 seconds
Index(['(Intercept)', 'concurrent_MME10', 'concurrent_MME15',
       'concurrent_MME20', 'concurrent_MME25', 'concurrent_MME30',
       'concurrent_MME35', 'concurrent_MME40', 'concurrent_MME45',
       'concurrent_MME50', 'concurrent_MME75', 'concurrent_MME100',
       'concurrent_MME200', 'concurrent_MME300', 'num_prescribers2',
       'num_prescribers3', 'num_prescribers4', 'num_prescribers5',
       'num_prescribers6', 'num_prescribers7', 'num_prescribers8',
       'num_prescribers9', 'num_prescribers10', 'num_pharmacies2',
       'num_pharmacies3', 'num_pharmacies4', 'num_pharmacies5',
       'num_pharmacies6', 'num_pharmacies7', 'num_pharmacies8',
       'num_pharmacies9', 'num_pharmacies10', 'concurrent_benzo1',
       'num_presc2', 'num_presc3', 'num_presc4', 'num_presc5', 'num_presc6',
       'num_presc10', 'num_presc15', 'MME_diff10', 'days_diff1',
       'quantity_diff10', 'avgDays1', 'avgDays3', 'avgDays5', 'avgDays7',
       'avgDays10', 'avgDays14', 'avgDays21', 'avgDays25', 'avgDays30',
       'avgDays60', 'avgDays90', 'patient_gender', 'Codeine', 'Hydrocodone',
       'Oxycodone', 'Morphine', 'Medicaid', 'CommercialIns', 'Medicare',
       'CashCredit', 'MilitaryIns', 'WorkersComp', 'Other', 'IndianNation',
       'switch_drug', 'switch_payment', 'ever_switch_drug',
       'ever_switch_payment', 'HMFO'],
      dtype='object')
Start training 2018singlespeical
setting c0_value = 0.0 for (Intercept) to ensure that intercept is not penalized
The weight is for positive53.34883003441926
06/01/23 @ 09:05 AM | switching loss computation from lookup to weighted
06/01/23 @ 09:05 AM | ------------------------------------------------------------
06/01/23 @ 09:05 AM | runnning initialization procedure
06/01/23 @ 09:05 AM | ------------------------------------------------------------
06/01/23 @ 09:10 AM | CPA produced 2 cuts
06/01/23 @ 09:10 AM | running naive rounding on 5 solutions
06/01/23 @ 09:10 AM | best objective value: 0.5543
06/01/23 @ 09:10 AM | rounding produced 5 integer solutions
06/01/23 @ 09:10 AM | best objective value is 0.5172
06/01/23 @ 09:10 AM | running sequential rounding on 5 solutions
06/01/23 @ 09:10 AM | best objective value: 0.5543
06/01/23 @ 09:11 AM | sequential rounding produced 4 integer solutions
06/01/23 @ 09:11 AM | best objective value: 0.4767
06/01/23 @ 09:11 AM | polishing 9 solutions
06/01/23 @ 09:11 AM | best objective value: 0.4767
06/01/23 @ 09:11 AM | polishing produced 4 integer solutions
06/01/23 @ 09:11 AM | initialization produced 11 feasible solutions
06/01/23 @ 09:11 AM | best objective value: 0.4164
06/01/23 @ 09:11 AM | ------------------------------------------------------------
06/01/23 @ 09:11 AM | completed initialization procedure
06/01/23 @ 09:11 AM | ------------------------------------------------------------
06/01/23 @ 09:11 AM | switching loss computation from lookup to weighted
06/01/23 @ 09:11 AM | adding 325 initial cuts
/mnt/phd/jihu/opioid/Code/risk_utils.py:64: DtypeWarning: Columns (5) have mixed types. Specify dtype option on import or set low_memory=False.
  SAMPLE = pd.read_csv('Data/FULL_' + str(year) +'_LONGTERM_UPTOFIRST.csv', delimiter = ",",
+----------------------------------------------+------------------+-----------+
| Pr(Y = +1) = 1.0/(1.0 + exp(-(-2 + score))   |                  |           |
| ============================================ | ================ | ========= |
| avgDays10                                    |         2 points |   + ..... |
| avgDays21                                    |         2 points |   + ..... |
| concurrent_benzo1                            |         1 points |   + ..... |
| Medicare                                     |         1 points |   + ..... |
| ============================================ | ================ | ========= |
| ADD POINTS FROM ROWS 1 to 4                  |            SCORE |   = ..... |
+----------------------------------------------+------------------+-----------+
677.3 seconds
Index(['(Intercept)', 'concurrent_MME10', 'concurrent_MME15',
       'concurrent_MME20', 'concurrent_MME25', 'concurrent_MME30',
       'concurrent_MME35', 'concurrent_MME40', 'concurrent_MME45',
       'concurrent_MME50', 'concurrent_MME75', 'concurrent_MME100',
       'concurrent_MME200', 'concurrent_MME300', 'num_prescribers2',
       'num_prescribers3', 'num_prescribers4', 'num_prescribers5',
       'num_prescribers6', 'num_prescribers7', 'num_prescribers8',
       'num_prescribers9', 'num_prescribers10', 'num_pharmacies2',
       'num_pharmacies3', 'num_pharmacies4', 'num_pharmacies5',
       'num_pharmacies6', 'num_pharmacies7', 'num_pharmacies8',
       'num_pharmacies9', 'num_pharmacies10', 'concurrent_benzo1',
       'num_presc2', 'num_presc3', 'num_presc4', 'num_presc5', 'num_presc6',
       'num_presc10', 'num_presc15', 'MME_diff10', 'days_diff1',
       'quantity_diff10', 'avgDays1', 'avgDays3', 'avgDays5', 'avgDays7',
       'avgDays10', 'avgDays14', 'avgDays21', 'avgDays25', 'avgDays30',
       'avgDays60', 'avgDays90', 'patient_gender', 'Codeine', 'Hydrocodone',
       'Oxycodone', 'Morphine', 'Medicaid', 'CommercialIns', 'Medicare',
       'CashCredit', 'MilitaryIns', 'WorkersComp', 'Other', 'IndianNation',
       'switch_drug', 'switch_payment', 'ever_switch_drug',
       'ever_switch_payment', 'HMFO'],
      dtype='object')
Start training 2018singlespeical
setting c0_value = 0.0 for (Intercept) to ensure that intercept is not penalized
The weight is for positive53.34883003441926
06/01/23 @ 09:19 AM | switching loss computation from lookup to weighted
06/01/23 @ 09:19 AM | ------------------------------------------------------------
06/01/23 @ 09:19 AM | runnning initialization procedure
06/01/23 @ 09:19 AM | ------------------------------------------------------------
06/01/23 @ 09:24 AM | CPA produced 2 cuts
06/01/23 @ 09:24 AM | running naive rounding on 5 solutions
06/01/23 @ 09:24 AM | best objective value: 0.5543
06/01/23 @ 09:24 AM | rounding produced 5 integer solutions
06/01/23 @ 09:24 AM | best objective value is 0.5172
06/01/23 @ 09:24 AM | running sequential rounding on 5 solutions
06/01/23 @ 09:24 AM | best objective value: 0.5543
06/01/23 @ 09:24 AM | sequential rounding produced 4 integer solutions
06/01/23 @ 09:24 AM | best objective value: 0.4767
06/01/23 @ 09:24 AM | polishing 9 solutions
06/01/23 @ 09:24 AM | best objective value: 0.4767
06/01/23 @ 09:25 AM | polishing produced 4 integer solutions
06/01/23 @ 09:25 AM | initialization produced 11 feasible solutions
06/01/23 @ 09:25 AM | best objective value: 0.4164
06/01/23 @ 09:25 AM | ------------------------------------------------------------
06/01/23 @ 09:25 AM | completed initialization procedure
06/01/23 @ 09:25 AM | ------------------------------------------------------------
06/01/23 @ 09:25 AM | switching loss computation from lookup to weighted
06/01/23 @ 09:25 AM | adding 320 initial cuts
/mnt/phd/jihu/opioid/Code/risk_utils.py:64: DtypeWarning: Columns (5) have mixed types. Specify dtype option on import or set low_memory=False.
  SAMPLE = pd.read_csv('Data/FULL_' + str(year) +'_LONGTERM_UPTOFIRST.csv', delimiter = ",",
+----------------------------------------------+------------------+-----------+
| Pr(Y = +1) = 1.0/(1.0 + exp(-(-2 + score))   |                  |           |
| ============================================ | ================ | ========= |
| avgDays10                                    |         2 points |   + ..... |
| avgDays21                                    |         2 points |   + ..... |
| concurrent_benzo1                            |         1 points |   + ..... |
| Medicare                                     |         1 points |   + ..... |
| ============================================ | ================ | ========= |
| ADD POINTS FROM ROWS 1 to 4                  |            SCORE |   = ..... |
+----------------------------------------------+------------------+-----------+
664.1 seconds
Index(['(Intercept)', 'concurrent_MME10', 'concurrent_MME15',
       'concurrent_MME20', 'concurrent_MME25', 'concurrent_MME30',
       'concurrent_MME35', 'concurrent_MME40', 'concurrent_MME45',
       'concurrent_MME50', 'concurrent_MME75', 'concurrent_MME100',
       'concurrent_MME200', 'concurrent_MME300', 'num_prescribers2',
       'num_prescribers3', 'num_prescribers4', 'num_prescribers5',
       'num_prescribers6', 'num_prescribers7', 'num_prescribers8',
       'num_prescribers9', 'num_prescribers10', 'num_pharmacies2',
       'num_pharmacies3', 'num_pharmacies4', 'num_pharmacies5',
       'num_pharmacies6', 'num_pharmacies7', 'num_pharmacies8',
       'num_pharmacies9', 'num_pharmacies10', 'concurrent_benzo1',
       'num_presc2', 'num_presc3', 'num_presc4', 'num_presc5', 'num_presc6',
       'num_presc10', 'num_presc15', 'MME_diff10', 'days_diff1',
       'quantity_diff10', 'avgDays1', 'avgDays3', 'avgDays5', 'avgDays7',
       'avgDays10', 'avgDays14', 'avgDays21', 'avgDays25', 'avgDays30',
       'avgDays60', 'avgDays90', 'patient_gender', 'Codeine', 'Hydrocodone',
       'Oxycodone', 'Morphine', 'Medicaid', 'CommercialIns', 'Medicare',
       'CashCredit', 'MilitaryIns', 'WorkersComp', 'Other', 'IndianNation',
       'switch_drug', 'switch_payment', 'ever_switch_drug',
       'ever_switch_payment', 'HMFO'],
      dtype='object')
Start training 2018singlespeical
setting c0_value = 0.0 for (Intercept) to ensure that intercept is not penalized
The weight is for positive53.34883003441926
06/01/23 @ 09:33 AM | switching loss computation from lookup to weighted
06/01/23 @ 09:33 AM | ------------------------------------------------------------
06/01/23 @ 09:33 AM | runnning initialization procedure
06/01/23 @ 09:33 AM | ------------------------------------------------------------
06/01/23 @ 09:38 AM | CPA produced 2 cuts
06/01/23 @ 09:38 AM | running naive rounding on 5 solutions
06/01/23 @ 09:38 AM | best objective value: 0.5543
06/01/23 @ 09:38 AM | rounding produced 5 integer solutions
06/01/23 @ 09:38 AM | best objective value is 0.5172
06/01/23 @ 09:38 AM | running sequential rounding on 5 solutions
06/01/23 @ 09:38 AM | best objective value: 0.5543
06/01/23 @ 09:38 AM | sequential rounding produced 4 integer solutions
06/01/23 @ 09:38 AM | best objective value: 0.4767
06/01/23 @ 09:38 AM | polishing 9 solutions
06/01/23 @ 09:38 AM | best objective value: 0.4767
06/01/23 @ 09:39 AM | polishing produced 4 integer solutions
06/01/23 @ 09:39 AM | initialization produced 11 feasible solutions
06/01/23 @ 09:39 AM | best objective value: 0.4164
06/01/23 @ 09:39 AM | ------------------------------------------------------------
06/01/23 @ 09:39 AM | completed initialization procedure
06/01/23 @ 09:39 AM | ------------------------------------------------------------
06/01/23 @ 09:39 AM | switching loss computation from lookup to weighted
06/01/23 @ 09:39 AM | adding 318 initial cuts
+----------------------------------------------+------------------+-----------+
| Pr(Y = +1) = 1.0/(1.0 + exp(-(-2 + score))   |                  |           |
| ============================================ | ================ | ========= |
| avgDays10                                    |         2 points |   + ..... |
| avgDays21                                    |         2 points |   + ..... |
| concurrent_benzo1                            |         1 points |   + ..... |
| Medicare                                     |         1 points |   + ..... |
| ============================================ | ================ | ========= |
| ADD POINTS FROM ROWS 1 to 4                  |            SCORE |   = ..... |
+----------------------------------------------+------------------+-----------+
671.0 seconds
