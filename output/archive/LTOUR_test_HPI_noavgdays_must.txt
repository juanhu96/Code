/mnt/phd/jihu/opioid/Code/risk_main.py:193: DtypeWarning: Columns (5) have mixed types. Specify dtype option on import or set low_memory=False.
  SAMPLE = pd.read_csv(f'{datadir}/FULL_{year}_LONGTERM_UPTOFIRST.csv', delimiter = ",",
Start testing, file saved with name HPI_noavgdays_must

----------------------------------------------------------------------------------------------------
True positives prescriptions and alert by type: 

(3972, 175) 1402 527 1 0 49 3411
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
Total prescriptions from true positive patients: 

(5341, 175)
----------------------------------------------------------------------------------------------------
Proportion of LT users detected within a month: 0.949582530507386
********************* HERE *********************
Test done!

  Accuracy  Recall Precision ROC AUC  PR AUC Calibration error
0   0.9726  0.0307    0.0664  0.5876  0.0266             0.005
       Prob  Num_presc       TN  ...  Observed Risk  Num_patients  Num_longterm
0  0.006693    2397167  2364550  ...       0.013606       1224325         27632
1  0.017986    3419231  3352884  ...       0.019404       1560150         54264
2  0.047426     739945   713433  ...       0.035830        314743         21865
3  0.119203      58560        0  ...       0.065079         27001          3163
4  0.268941       1226        0  ...       0.131321           659           136

[5 rows x 10 columns]
