/mnt/phd/jihu/opioid/Code/risk_test.py:27: DtypeWarning: Columns (2) have mixed types. Specify dtype option on import or set low_memory=False.
  FULL = pd.read_csv(file_path, delimiter=",", dtype={'concurrent_MME': float,
Start testing, file saved with setting tag _2018_test_first_constrained_modified_first

first_constrained_modified
Test done!

                    Value
Accuracy            0.904
Recall             0.5231
Precision          0.5834
ROC AUC            0.8887
PR AUC             0.5188
Calibration error  0.0143
       Prob  Num_presc       TN      FP      FN      TP  Accuracy  \
0  0.002473     979301   974995       0    4306       0    0.9956   
1  0.006693     404991   400967       0    4024       0    0.9901   
2  0.017986    1592707  1547341       0   45366       0    0.9715   
3  0.047426     921888   866086       0   55802       0    0.9395   
4  0.119203     185650   152819       0   32831       0    0.8232   
5  0.268941     389629   263848       0  125781       0    0.6772   
6  0.500000     321972        0  162823       0  159149    0.4943   
7  0.731059     134351        0   39124       0   95227    0.7088   
8  0.880797      41000        0    7128       0   33872    0.8261   
9  0.952574       6827        0     943       0    5884    0.8619   

   Observed Risk  Num_patients  Num_longterm  
0       0.004397        978754          5478  
1       0.009936        402023          4789  
2       0.028484       1584950         54412  
3       0.060530        898732         62807  
4       0.176844        160576         31741  
5       0.322822        383859        134816  
6       0.494295        314270        164157  
7       0.708793        116996         84808  
8       0.826146         30301         25270  
9       0.861872          6087          5305  
